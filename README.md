# Витрина интернет-магазина

Приложение "Витрина интернет-магазина" — это веб-приложение, предназначенное для поиска, просмотра и заказа товаров. 
Приложение использует Spring Boot, Thymeleaf для шаблонов и базу данных PostgreSQL.

---

## Требования

- Java 21
- PostgreSQL (рекомендуется версия 17+)
- Maven 3.6+

---

## Конфигурация

### Настройка подключения к базе данных

Необходимо создать базу данных `my_market` и пользователя с соответствующими правами.

Приложение использует PostgreSQL. Параметры подключения задаются через переменные окружения или значения по умолчанию в `application.yml`:
- `DB_HOST` — адрес сервера базы данных (по умолчанию `localhost`)
- `DB_USERNAME` — имя пользователя PostgreSQL
- `DB_PASSWORD` — пароль пользователя PostgreSQL

---

## Сборка и размещение приложения

### Сборка JAR файла через Maven

Используется Maven для сборки исполняемого "fat" JAR файла.

### Команды для сборки и деплоя
Соберите проект командой:
`mvn clean package`

При успешной сборке исполняемый JAR-файл будет автоматически создан в директории target.

Запустите JAR следующей командой, при необходимости указав порт (по умолчанию 8080):
`java -jar my-market-1.0.0.jar --server.port=9090`

Доступ к приложению будет по адресу:
`http://<host>:<port>/`

### Команды для сборки и запуска в Docker
Создайте Docker-образ, используя команду:  
`docker build -t my-market .`  
Будет создан образ с именем `my-market` на основе [Dockerfile](./Dockerfile)

Запустите контейнеры, используя команду:  
`docker compose up`  
Будут запущены контейнеры: `postgres` и `my-market`.  
Конфигурация и внешние порты описаны в [docker-compose.yml](./docker-compose.yml)

Доступ к приложению будет по адресу:
`http://<host>:<port>/`

---

## Тестирование приложения

### Команды для запуска тестов
Запустите тесты командой:
`mvn clean test`

### Загрузка товаров на витрину
Для предварительной загрузки списка товаров на витрину можно использовать [SQL-скрипт](src/test/resources/v1.0.0_00_insert_item.sql)